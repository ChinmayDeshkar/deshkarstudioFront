<div class="d-flex align-items-center justify-content-center min-vh-100 bg-light">
  <div class="card shadow-lg border-0 rounded-4 p-4 p-md-5" style="max-width: 480px; width: 100%;">
    
    <div class="text-center mb-4">
      <i class="bi bi-person-plus-fill text-primary display-5"></i>
      <h3 class="fw-bold mt-2">Create Account</h3>
      <p class="text-muted mb-0">Fill in your details to register</p>
    </div>

    <!-- Step 1: Signup Form -->
    <form [formGroup]="signupForm" *ngIf="!otpSent" class="animate__animated animate__fadeIn">
      <div class="form-floating mb-3">
        <input type="text" formControlName="username" class="form-control" id="username" placeholder="Username">
        <label for="username"><i class="bi bi-person me-2"></i>Username</label>
      </div>

      <div class="form-floating mb-3">
        <input type="email" formControlName="email" class="form-control" id="email" placeholder="Email">
        <label for="email"><i class="bi bi-envelope me-2"></i>Email</label>
      </div>

      <div class="form-floating mb-3">
        <input type="text" formControlName="phone" maxlength="10" class="form-control" id="phone" placeholder="Phone Number">
        <label for="phone"><i class="bi bi-telephone me-2"></i>Phone Number</label>
      </div>

      <div class="form-floating mb-3">
        <input type="password" formControlName="password" class="form-control" id="password" placeholder="Password">
        <label for="password"><i class="bi bi-lock me-2"></i>Password</label>
      </div>

      <div class="form-floating mb-4">
        <input type="password" formControlName="confirmPassword" class="form-control" id="confirmPassword" placeholder="Confirm Password">
        <label for="confirmPassword"><i class="bi bi-shield-check me-2"></i>Confirm Password</label>
      </div>

      <button type="button" class="btn btn-primary w-100 btn-lg" (click)="requestOtp()">
        <i class="bi bi-chat-dots-fill me-2"></i>Request OTP
      </button>
    </form>

    <!-- Step 2: OTP Verification -->
    <div *ngIf="otpSent" class="animate__animated animate__fadeIn text-center">
      <i class="bi bi-shield-lock-fill text-success display-5"></i>
      <h5 class="fw-semibold mt-3">Verify OTP</h5>
      <p class="text-muted mb-4">Enter the OTP sent to <b>{{ signupForm.value.phone }}</b></p>

      <input type="text" [(ngModel)]="otp" maxlength="6" class="form-control text-center fs-5 mb-3" placeholder="Enter OTP">

      <button class="btn btn-success w-100 btn-lg" (click)="verifyOtp()">
        <i class="bi bi-check-circle-fill me-2"></i>Verify & Sign Up
      </button>

      <!-- <button class="btn btn-link mt-3 text-decoration-none" (click)="resendOtp()">
        <i class="bi bi-arrow-repeat me-1"></i>Resend OTP
      </button> -->
    </div>

  </div>
</div>
